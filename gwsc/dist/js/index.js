"use strict";requirejs.config({baseUrl:"./js/",urlArgs:"va="+(new Date).getTime(),paths:{jquery:["lib/jquery-1.11.1.min"],"jquery.validate":["lib/jquery.validate"],"additional-methods":["lib/additional-methods"],yzm:["code"],storageTools:["storageTools"],"jquery.cookie":["lib/jquery.cookie"],shim:{yzm:{deps:["jquery"]}}}}),requirejs(["jquery","storageTools","jquery.cookie"],function(s,i){s(".back").click(function(){s("html , body").animate({scrollTop:0},500)});var n=i.get("login"),e=JSON.parse(n||"{}");if(null!=e.uid?(s("#lg_btn a").text("欢迎您："+e.utel),s("#re_btn").remove(),s("#lg_btn").after("<li id='tc_btn'><a href='login.html' >退出</a><span>|</span></li>")):(console.log(s("#re_btn").html()),s("#lg_btn a").text("登录"),s("#tc_btn").remove(),s(".loginbox_right ul").prepend("<li id='re_btn'><a href='regist.html' >注册</a><span>|</span></li>")),s.ajax({url:"./../server/goodsinfo.php",dataType:"json"}).done(function(i){var e="";i.forEach(function(i,n){e+=n%3==0&&0!=n?'  <li>\n                        <img src="'+i.gImg+'" height="520" width="385"/>\n                        <span>'+i.gName+"</span>\n                        <i>"+i.gPrice+'</i>\n                        <a href="./product.html?id='+i.gid+'">立即购买</a>\n                        </li>\n               ':'  <li class="hd">\n                        <img src="'+i.gImg+'" height="520" width="385"/>\n                        <span>'+i.gName+"</span>\n                        <i>"+i.gPrice+'</i>\n                        <a href="./product.html?id='+i.gid+'">立即购买</a>\n                        </li>\n               '}),s(".pro ul").append(e)}),i.isLogin("login")){var l={uid:JSON.parse(i.get("login")).uid};s.ajax({url:"./../server/cartList.php",data:l}).then(function(i){s(".cart_ring p").text(i.length)})}else{var a=JSON.parse(s.cookie("cartInfo")||"[]");s(".cart_ring p").text(a.length)}function t(i,n){for(var e=0;e<i.length;e++)"opa-on"==i[e].className&&(i[e].className="");i[n].className="opa-on"}function o(i,n){for(var e=0;e<i.length;e++)"on"==i[e].className&&(i[e].className="");i[n].className="on"}for(var r=document.querySelectorAll(".main_banner>ul>li"),c=document.querySelector(".main_banner ol"),g="",f=0;f<r.length;f++)g+="<li></li>";c.innerHTML=g;var u,d=document.querySelectorAll(".main_banner>ol>li"),h=0;for(f=0;f<d.length;f++)d[f].index=f,d[f].onmouseover=function(){var i=parseInt(this.index);t(r,h=i),o(d,h),clearInterval(u)},d[f].onmouseout=function(){p()};var p=function(){u=setInterval(function(){5<=(h+=1)&&(h=0),t(r,h),o(d,h)},3e3)};p(),s(".pro_cls>.cls li").mouseenter(function(){var i="img/pro_cls_pic"+(s(this).index()+5)+".jpg",n="img/pro_cls_pic"+(s(this).siblings("li[class='flag']").index()+1)+".jpg";s(this).siblings("li[class='flag']").find("img").attr("src",n),s(this).siblings("li[class='flag']").removeClass("flag"),s(this).find("img").attr("src",i),s(this).parents(".pro_cls").find(".title li").eq(s(this).index()).addClass("on").siblings("li").removeClass("on"),s(this).parents(".pro_cls").find(".pro_cls_con li").eq(s(this).index()).addClass("on").siblings("li").removeClass("on")}),s(".pro_cls>.cls li").mouseleave(function(){var i="img/pro_cls_pic"+(s(this).index()+1)+".jpg";s(this).addClass("flag").siblings("li").removeClass("flag"),s(this).find("img").attr("src",i)}),s(".pro_cls .cls").mouseleave(function(){var i="img/pro_cls_pic"+(s(this).find("li[class=flag]").index()+5)+".jpg";s(this).find("li[class=flag]").find("img").attr("src",i)});var m=0,v=s(".fashion ul>li");s(".fashion ul").prepend("<li class='first'><img src='img/fashion_pic6.jpg'/></li>"),s(".fashion ul").find("li[class='first']").css({position:"absolute",left:-400,top:0}),s(".fashion .left").on("click",function(){if(0==m)s(".fashion ul").animate({left:400},1e3,function(){m=v.length-2});else{s(".fashion ul").find("li[class='first']");(i=--m)==v.length-2?(s(".fashion ul").css("left","2000px"),m%=6):s(".fashion ul").animate({left:400*-i},1e3,function(){})}var i})});